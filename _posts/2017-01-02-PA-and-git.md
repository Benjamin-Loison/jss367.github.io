---
layout: post
title: "Python Anywhere and Git"
feature-img: "assets/img/rainbow.jpg"
thumbnail: "assets/img/london_bridge.jpg"
tags: [Git]
---
Pythonanywhere has an excellent [tutorial for setting up a website with Flask](https://blog.pythonanywhere.com/121/). The tutorial shows how to set up a website and put it under version control with Git. But it only shows how to do that by initiating a new repository; it doesn't show you how to connect with an existing repo. In this post, I will show how to connect Pythonanywhere to an existing Github account and some basic Git commands to manage your Pythonanywhere app.<!--more-->


## Starting a new project

1. Go to [Github](https://github.com/)

2. Click on "New repository" on the right or open an existing repository if you already have one you want to work with

3. If it's new, give it a title and click "Create repository"

4. Find the URL for the remote repository by clicking on the green "Clone or download" button, then click the "Copy to Clipboard" button to copy the URL. It should end with .git. Something like: `https://github.com/jss367/pythonanywhere.git`

5. Then go to your bash console on pythonanywhere inside the folder you want to connect to Github. This is possibly your `mysite` folder. You'll want to initiate this as a git repository. Enter `git init`


6. Type: `git remote add origin <remote_repository_URL>`.

7. Then test out that the connection works. Type: `git remote -v`. You should get a response verifying the remote URL. It should look something like this:

```bash
origin  https://github.com/jss367/pythonanywhere.git (fetch)
origin  https://github.com/jss367/pythonanywhere.git (push)
```

8. Then, you have to pull the remote repository to your local Pythonanywhere folder. Type: `git pull origin master`. This is one of the most common Git commands you will use. It is of the format `git pull <remote> <branch>`.

9. You'll have to make sure that a couple of things are in your `.gitignore` file. To see what's in your `.gitignore` file, enter `cat .gitignore`. Look for the following files:
```bash
*.pyc
__pycache__
```

If they are not in your `.gitignore`, you'll have to add them with `cat > .gitignore` and then type them in. Afterward, hit Control D to return to the bash prompt.

10. Next, enter `git status` to see what the status of your repo is. You should see the .gitignore file listed under "Changes not staged for commit" as a modified file and you'll also see `flask_app.py` listed under "Untracked files". You'll need to stage them both for a commit by entering `git add .` then commit them with `git commit -m "Add initial flask app file, update .gitignore"`

11. Finally, you'll push your updated repo to the remote repository. To do this, enter `git push origin master`. You may have to enter your Github username and password if you haven't already.

### Connecting to an existing repo

git clone https://github.com/jss367/pythonanywhere.git

To get an app working, you'll need to configure the WSGI file that imports your app, as a Python variable. That means you need to know two things:

1. The path to the Python file containing your web app's WSGI file.

2. The name of the application.

For Flask, the WSGI app is usually invoked as app = Flask(__name__) somewhere. Locate this file and variable


Here's an example of what your final WSGI file (`jss367_pythonanywhere_com_wsgi.py`) should look like. :

```python
import sys
#
## The "/home/jss367" below specifies your home
## directory -- the rest should be the directory you uploaded your Flask
## code to underneath the home directory.  So if you just ran
## "git clone git@github.com/myusername/myproject.git"
## ...or uploaded files to the directory "myproject", then you should
## specify "/home/jss367/myproject"
path = '/home/jss367/pythonanywhere'
if path not in sys.path:
    sys.path.append(path)

from flask_app import app as application
```